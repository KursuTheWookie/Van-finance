<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Van Sparziel</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: white;
    margin: 0;
    padding: 1rem;
  }
  .van-wrapper {
    position: relative;
    width: 560px;
    margin: 0 auto;
  }
  svg {
    display: block;
    margin: 0 auto;
  }
  .fill {
    position: absolute;
    top: 80px; /* Van-Körper Y */
    left: 40px; /* Van-Körper X */
    height: 120px;
    background-color: #2ecc71;
    border-radius: 16px 0 0 16px;
    z-index: -1;
  }
  input {
    margin-top: 1rem;
    padding: 0.5rem;
    font-size: 1rem;
    width: 200px;
    text-align: right;
  }
  .info {
    margin-top: 0.5rem;
    font-size: 0.9rem;
    color: #555;
  }
</style>
</head>
<body>

<h2>Van Sparziel</h2>
<div class="van-wrapper">
  <!-- Füllungshintergrund -->
  <div id="fill-bar" class="fill"></div>
  <!-- Van Outline -->
  <svg xmlns="http://www.w3.org/2000/svg" width="560" height="260" viewBox="0 0 560 260">
    <rect x="40" y="80" width="460" height="120" rx="16" ry="16" fill="none" stroke="#222" stroke-width="3"/>
    <path d="M 320 80 L 400 80 L 430 120 L 320 120 Z" fill="none" stroke="#222" stroke-width="3"/>
    <rect x="330" y="90" width="60" height="22" rx="4" ry="4" fill="#dfe6e9" stroke="#222" stroke-width="2"/>
    <circle cx="140" cy="200" r="22" fill="#222"/>
    <circle cx="400" cy="200" r="22" fill="#222"/>
    <circle cx="140" cy="200" r="10" fill="#888"/>
    <circle cx="400" cy="200" r="10" fill="#888"/>
  </svg>
</div>

<div>
  <input type="number" id="savings" placeholder="Ersparnisse (€)" />
  <div class="info" id="info-text"></div>
</div>

<script>
  const goal = 60000; // Zielbetrag €
  const fillBar = document.getElementById('fill-bar');
  const input = document.getElementById('savings');
  const infoText = document.getElementById('info-text');

  function updateVan(amount) {
    const pct = Math.min(amount / goal, 1);
    fillBar.style.width = (460 * pct) + 'px'; // 460px = Van-Körper-Breite
    fillBar.style.backgroundColor = pct < 0.25 ? '#e74c3c' : pct < 0.75 ? '#f1c40f' : '#2ecc71';
    infoText.textContent = `${(pct*100).toFixed(1)}% — ${amount.toLocaleString()}€ von ${goal.toLocaleString()}€`;
    localStorage.setItem('van_savings', amount);
  }

  // Eventlistener
  input.addEventListener('input', e => {
    updateVan(Number(e.target.value));
  });

  // Beim Laden gespeicherten Wert setzen
  const saved = localStorage.getItem('van_savings');
  if (saved) {
    input.value = saved;
    updateVan(Number(saved));
  } else {
    updateVan(0);
  }
</script>

</body>
</html>
