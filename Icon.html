<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Savings</title>
<style>
  :root{
    --sage:#8fa98f;        /* Van-Farbe */
    --line:#e6e6e6;        /* Konturen im Dark UI */
    --glass:#a7b3bb;       /* Fenster */
    --text:#f2f2f2; --muted:#bfc7cc;
  }
  body{margin:0;padding:10px;background:transparent;
       font-family:Inter,Arial,sans-serif;color:var(--text);text-align:center}
  .wrap{width:680px;max-width:100%;margin:0 auto}
  svg{display:block;width:100%;height:auto}
  input{margin-top:8px;padding:.5rem .7rem;width:220px;text-align:right;
        background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.2);
        color:var(--text);border-radius:6px;outline:none;font-size:1rem}
  .info{margin-top:6px;color:var(--muted);font-size:.95rem}
</style>
</head>
<body>
  <h2>Savings</h2>
  <div class="wrap">
    <!-- Realistischere Crafter-Silhouette (links fahrend) -->
    <svg viewBox="0 0 680 300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Van savings">
      <defs>
        <!-- Vanform: langer Kasten, Hochdach (H3), keilige Front, Radkästen -->
        <path id="van" d="
          M 70 95
          L 430 95
          L 452 84
          L 520 84
          Q 538 84 549 98
          L 570 124
          Q 574 130 582 131
          L 598 132
          L 598 168
          L 582 168
          Q 574 169 570 175
          L 556 195
          Q 552 200 542 200
          L 505 200
          Q 500 200 496 204
          Q 485 214 470 214
          L 438 214
          Q 422 214 411 202
          Q 408 199 404 199
          L 210 199
          Q 206 199 203 202
          Q 192 214 176 214
          L 144 214
          Q 129 214 118 204
          Q 114 200 108 200
          L 82 200
          L 70 185
          L 70 165
          L 86 165
          Q 96 165 104 159
          Q 122 146 154 146
          L 208 146
          Q 222 146 222 132
          L 222 118
          Q 222 95 245 95
          Z" />
        <!-- Clipbereich für die Füllung: exakt die Vanform -->
        <clipPath id="clipVan"><use href="#van"/></clipPath>
      </defs>

      <!-- Füllung (unter der Karosse, wird in der Breite geändert) -->
      <rect id="meter" x="70" y="86" width="0" height="128" fill="#2ecc71" clip-path="url(#clipVan)"/>

      <!-- Karosse -->
      <use href="#van" fill="var(--sage)"/>
      <use href="#van" fill="none" stroke="var(--line)" stroke-width="3"/>

      <!-- Fenster / A-Säule -->
      <path d="M 520 96 L 470 96 L 452 114 L 520 114 Z" fill="var(--glass)" stroke="var(--line)" stroke-width="2"/>

      <!-- Paneellinien -->
      <line x1="96" y1="138" x2="410" y2="138" stroke="var(--line)" stroke-width="1" opacity=".35"/>
      <line x1="100" y1="162" x2="360" y2="162" stroke="var(--line)" stroke-width="1" opacity=".28"/>
      <!-- Heckfuge -->
      <line x1="500" y1="104" x2="500" y2="192" stroke="var(--line)" stroke-width="1" opacity=".35"/>

      <!-- Räder -->
      <g>
        <circle cx="172" cy="214" r="26" fill="var(--line)"/>
        <circle cx="172" cy="214" r="11" fill="#888"/>
        <circle cx="456" cy="214" r="26" fill="var(--line)"/>
        <circle cx="456" cy="214" r="11" fill="#888"/>
      </g>

      <!-- Marke „van paid“ bei 50k/60k -->
      <line id="paidTick" x1="0" y1="86" x2="0" y2="226" stroke="var(--muted)" stroke-dasharray="4 4" stroke-width="2"/>
      <text id="paidLabel" x="0" y="80" text-anchor="middle" font-size="12" fill="var(--muted)">van paid</text>
    </svg>

    <input type="number" id="savings" placeholder="Savings (€)"/>
    <div class="info" id="info">0% — 0€ of 60,000€</div>
  </div>

<script>
  // --- Config ---
  const goal = 60000;     // Gesamtziel
  const paidAt = 50000;   // Marke "van paid"
  const fillX = 70;       // Start der Füllung (muss zu rect x passen)
  const fillW = 510;      // maximale Breite der Füllung (ungef. Länge des Vans)

  const meter = document.getElementById('meter');
  const info  = document.getElementById('info');
  const input = document.getElementById('savings');
  const paidTk= document.getElementById('paidTick');
  const paidLb= document.getElementById('paidLabel');

  function colorFor(p){
    if (p < 0.25) return '#e74c3c';
    if (p < 0.75) return '#f1c40f';
    return '#2ecc71';
  }
  function placePaid(){
    const px = fillX + fillW * (paidAt/goal);
    paidTk.setAttribute('x1', px); paidTk.setAttribute('x2', px);
    paidLb.setAttribute('x', px);
  }
  function update(amount){
    const p = Math.max(0, Math.min(1, amount/goal));
    meter.setAttribute('width', fillW * p);
    meter.setAttribute('fill', colorFor(p));
    info.textContent = `${(p*100).toFixed(1)}% — ${amount.toLocaleString()}€ of ${goal.toLocaleString()}€`;
    localStorage.setItem('van_savings', amount);
  }

  placePaid();
  const saved = Number(localStorage.getItem('van_savings') || 0);
  input.value = saved || '';
  input.addEventListener('input', e => update(Number(e.target.value || 0)));
  update(saved);
</script>
</body>
</html>
